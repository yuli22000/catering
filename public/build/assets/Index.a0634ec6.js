import{u as K,r as l,R as e,H as W}from"./app.93238259.js";import{L as q}from"./Web.6349ffc7.js";import{f as s}from"./FormatPrice.72b07cf2.js";import{a as v}from"./Header.009aff90.js";import z from"./StoreCheckout.609f57d3.js";import"./sweetalert2.all.23299df9.js";function Y(){const{provinces:g,dataCarts:r}=K().props,[b,f]=l.exports.useState(""),[n,N]=l.exports.useState(""),[w,S]=l.exports.useState([]),[k,y]=l.exports.useState(!1),[C,x]=l.exports.useState(""),[I,c]=l.exports.useState(!1),[P,o]=l.exports.useState(!1),[R,_]=l.exports.useState([]),[D,O]=l.exports.useState(0),[m,L]=l.exports.useState(0),[i,T]=l.exports.useState(0),[d,A]=l.exports.useState(0),[u,F]=l.exports.useState(0),[p,G]=l.exports.useState(""),[E,$]=l.exports.useState(""),j=async t=>{f(t),v.get(`/checkouts/cities?province_id=${t}`).then(a=>{S(a.data)})},H=t=>{N(t),y(!0)},h=t=>{c(!0),o(!1),x(t.target.value),v.post("/checkouts/checkOngkir",{destination:n,weight:r.weight,courier:t.target.value}).then(a=>{_(a.data),c(!1),o(!0)})},B=t=>{let a=t.target.value.split("|");L(a[0]),O(a[1]),T(parseInt(r.price)+parseInt(a[0])),F((parseInt(r.price)+parseInt(a[0]))*50/100),A((parseInt(r.price)+parseInt(a[0]))*50/100)};return e.createElement(e.Fragment,null,e.createElement(W,null,e.createElement("title",null,"Checkouts - Catering Aisyah Purple")),e.createElement(q,null,e.createElement("div",{className:"container mt-80 mb-5"},e.createElement("div",{className:"fade-in"},e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-md-8"},e.createElement("div",{className:"card border-0 rounded-3 shadow-sm"},e.createElement("div",{className:"card-header"},e.createElement("i",{className:"fa fa-shopping-cart"})," Shipping Information"),e.createElement("div",{className:"card-body"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"Province"),e.createElement("select",{className:"form-select",onChange:t=>j(t.target.value)},e.createElement("option",{value:""},"-- Select Province --"),g.map((t,a)=>e.createElement("option",{key:a,value:t.id},t.name)))),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"City"),e.createElement("select",{className:"form-select",onChange:t=>H(t.target.value)},e.createElement("option",{value:""},"-- Select City --"),w.map((t,a)=>e.createElement("option",{key:a,value:t.id},t.name)))),k&&e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"Shipping Expedition"),e.createElement("br",null),e.createElement("div",{className:"form-check"},e.createElement("label",{className:"form-check-label font-weight-bold me-5",htmlFor:"ongkos_kirim_tiki"},e.createElement("input",{className:"form-check-input select-courier",name:"courier",type:"radio",id:"ongkos_kirim_tiki",value:"tiki",onChange:h}),"TIKI"),e.createElement("label",{className:"form-check-label font-weight-bold",htmlFor:"ongkos_kirim_pos"},e.createElement("input",{className:"form-check-input select-courier",name:"courier",type:"radio",id:"ongkos_kirim_pos",value:"pos",onChange:h}),"POS"))),I&&e.createElement("div",{className:"justify-content-center mb-3 text-center"},e.createElement("div",{className:"spinner-border text-success",role:"status"},e.createElement("span",{className:"visually-hidden"},"Loading...")),e.createElement("h6",{className:"mt-2"},"Loading...")),P&&e.createElement("div",{className:"mb-3","v-if":"courier.showService"},e.createElement("hr",null),e.createElement("label",{className:"fw-bold"},"Shipping Cost"),e.createElement("br",null),e.createElement("div",{className:"form-check form-check-inline mt-2"},R.map((t,a)=>e.createElement("label",{className:"form-check-label font-weight-normal me-5",htmlFor:t.service,key:a},e.createElement("input",{className:"form-check-input",id:t.serrvice,type:"radio",name:"cost",value:`${t.cost[0].value}|${t.service}`,onChange:B}),t.service," - Rp. ",s(t.cost[0].value))))),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"Address"),e.createElement("textarea",{className:"form-control",value:p,onChange:t=>G(t.target.value),rows:"3",placeholder:"Address"})),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"Catatan"),e.createElement("textarea",{className:"form-control",value:E,onChange:t=>$(t.target.value),rows:"3",placeholder:"Catatan"})))),e.createElement("div",{className:"card border-0 rounded-3 shadow-sm mt-3 mb-3"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"table-responsive"},e.createElement("table",{className:"table mb-0 mt-0"},e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{style:{width:"25%"}},"Total Orders"),e.createElement("td",{style:{width:"1%"}},":"),e.createElement("td",null,e.createElement("strong",null,"Rp. ",s(r.price)))),e.createElement("tr",null,e.createElement("td",{style:{width:"25%"}},"Shipping Cost"),e.createElement("td",{style:{width:"1%"}},":"),e.createElement("td",null,e.createElement("strong",null,"Rp. ",s(m)))),e.createElement("tr",null,e.createElement("td",{style:{width:"25%"}},"Grand Total"),e.createElement("td",{style:{width:"1%"}},":"),e.createElement("td",null,e.createElement("strong",null,"Rp. ",s(i)))),e.createElement("tr",null,e.createElement("td",{style:{width:"25%"}},"Total Dp : "),e.createElement("td",{style:{width:"1%"}},":"),e.createElement("td",null,e.createElement("strong",null,"Rp. ",s(u)))),e.createElement("tr",null,e.createElement("td",{style:{width:"25%"}},"Sisa Pembayaran : "),e.createElement("td",{style:{width:"1%"}},":"),e.createElement("td",null,e.createElement("strong",null,"Rp. ",s(d))))))))),e.createElement(z,{provinceID:b,cityID:n,courierName:C,courierService:D,courierCost:m,weight:r.weight,grandTotal:i,grandDp:u,grandSisa:d,address:p,catatan:E})))))))}export{Y as default};
